# ==================================
# Cursor Rules â€” Hush Gentle Website
# Model-Agnostic, Discipline-First
# ==================================

version: 1.0

project:
  name: hush-gentle-ecommerce
  domain: organic-cosmetics
  goal: production-ready-mvp
  principles:
    - simplicity_over_complexity
    - low_maintenance
    - security_first
    - ux_first
    - scalability_without_refactor

# ----------------------------------
# GLOBAL EXECUTION RULES
# ----------------------------------
global:
  max_mode: true
  use_multiple_models: true
  auto_model_selection_allowed: true
  enforce_stepwise_execution: true

  mandatory_execution_order:
    - requirements_understanding
    - architecture_definition
    - file_structure_confirmation
    - database_schema
    - backend_logic
    - frontend_ui
    - admin_dashboard
    - analytics
    - ai_chatbot
    - security_validation
    - final_verification

  prohibitions:
    - skipping_architecture
    - rewriting_working_code
    - hallucinated_integrations
    - unnecessary_dependencies
    - overengineering

# ----------------------------------
# QUALITY & SAFETY RULES
# ----------------------------------
quality:
  requirements:
    - explicit_assumptions
    - clear_tradeoffs
    - minimal_magic
    - readable_code
    - strong_typing_where_applicable
  validation:
    - explain_before_build
    - check_against_spec
    - confirm_completeness

# ----------------------------------
# FRONTEND RULES
# ----------------------------------
frontend:
  framework: react
  environment: nextjs_app_router
  styling: tailwindcss
  principles:
    - minimalistic
    - pastel_theme
    - high_whitespace
    - calm_interactions
    - mobile_first
  constraints:
    - no_inline_css
    - avoid_heavy_animation
    - minimize_client_components
    - accessibility_basics_required

# ----------------------------------
# BACKEND RULES
# ----------------------------------
backend:
  framework: nextjs
  api_style: route_handlers_or_server_actions
  authentication: supabase_auth
  principles:
    - secure_by_default
    - server_side_validation
    - clear_error_handling
  constraints:
    - no_business_logic_in_ui
    - no_client_side_auth_checks
    - no_direct_db_access_from_client

# ----------------------------------
# DATABASE RULES
# ----------------------------------
database:
  provider: supabase
  engine: postgresql
  requirements:
    - rls_enabled_on_all_tables
    - foreign_key_constraints
    - indexes_on_relations
    - audit_columns
  mandatory_tables:
    - users
    - profiles
    - products
    - categories
    - carts
    - cart_items
    - wishlists
    - orders
    - order_items
    - payments
    - testimonials
    - amazon_reviews
    - analytics_events
    - chatbot_sessions
    - chatbot_messages

# ----------------------------------
# ANALYTICS RULES
# ----------------------------------
analytics:
  approach: internal_event_tracking
  constraints:
    - no_paid_third_party_tools
    - privacy_respecting
    - admin_visible_metrics
  required_metrics:
    - page_views
    - add_to_cart
    - checkout_started
    - checkout_completed
    - checkout_abandoned
    - payment_success
    - payment_failure

# ----------------------------------
# AI CHATBOT RULES
# ----------------------------------
ai_chatbot:
  tone:
    - gentle
    - calm
    - informative
  constraints:
    - no_medical_claims
    - no_aggressive_sales
    - provider_agnostic
    - conversation_logging_required

# ----------------------------------
# ADMIN DASHBOARD RULES
# ----------------------------------
admin:
  target_user: non_technical_single_founder
  principles:
    - simple_language
    - minimal_controls
    - visual_feedback
  required_features:
    - product_management
    - order_overview
    - analytics_dashboard
    - testimonial_management
    - amazon_review_management

# ----------------------------------
# SECURITY RULES
# ----------------------------------
security:
  principles:
    - least_privilege
    - secure_defaults
    - zero_trust
  mandatory:
    - rls_policies
    - role_based_access
    - input_validation
    - secret_isolation
  forbidden:
    - public_admin_routes
    - secrets_in_client_code

# ----------------------------------
# FAILURE CONDITIONS
# ----------------------------------
failure_conditions:
  - missing_core_features
  - incomplete_schema
  - broken_auth_flow
  - admin_access_leak
  - violating_brand_tone
  - excessive_manual_maintenance

# ==================================
# END OF CURSOR RULES
# ==================================